{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "VideoDetail",
  "allOf": [
    { "$ref": "video-summary.json" },
    {
      "type": "object",
      "required": ["description", "captions", "qualities", "audioOnly", "downloadPolicy", "chapters"],
      "properties": {
        "description": { "type": ["string", "null"], "maxLength": 5000 },
        "captions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["locale", "url"],
            "properties": {
              "locale": { "type": "string" },
              "url": { "type": "string", "format": "uri" },
              "label": { "type": "string" }
            }
          }
        },
        "qualities": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["itag", "label", "bitrate", "mimeType"],
            "properties": {
              "itag": { "type": "integer" },
              "label": { "type": "string" },
              "bitrate": { "type": "integer" },
              "mimeType": { "type": "string" }
            }
          }
        },
        "audioOnly": {
          "type": "object",
          "required": ["itag", "bitrate", "mimeType", "url"],
          "properties": {
            "itag": { "type": "integer" },
            "bitrate": { "type": "integer" },
            "mimeType": { "type": "string" },
            "url": { "type": "string", "format": "uri" }
          }
        },
        "downloadPolicy": { "type": "string", "enum": ["ENABLED", "DISABLED_BY_POLICY"] },
        "chapters": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["title", "offsetSeconds"],
            "properties": {
              "title": { "type": "string" },
              "offsetSeconds": { "type": "integer", "minimum": 0 }
            }
          }
        }
      }
    }
  ]
}
